module generics-new

language FGJ

test new [[
  class A<> extends Object<> {
    A<> x;
    A() { 
      super();
      this.x = new A<>(); 
    }
  } 
]] analysis succeeds

test new with args [[
  class A<> extends Object<> {
    B<> x;
    A(B<> x) {
      super();
      this.x = x;
    }
    <> A<> m() {
      return new A<>(new B<>());
    }
  }
  class B<> extends Object<> {
    B() { super(); }
  }
]] analysis succeeds

test new with generic [[
  class A<S extends Object<>> extends Object<> {
    A() { super(); }
    
    <T extends Object<>> A<T> m() { return new A<T>(); }
  }
]] analysis succeeds

test new with generics [[
  class A<S extends Object<>, T extends Object<>> extends Object<> {
    A() { super(); }
    
    <U extends Object<>> A<U, S> m() { return new A<U, S>(); }
  }
]] analysis succeeds

